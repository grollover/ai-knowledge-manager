# üß† AI Knowledge Manager

AI Knowledge Manager - —ç—Ç–æ —É—á–µ–±–Ω—ã–π pet-–ø—Ä–æ–µ–∫—Ç, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –Ω–∞ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Symfony, DDEV, RabbitMQ –∏ LLM-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏.  
–¶–µ–ª—å - –ø–æ–∫–∞–∑–∞—Ç—å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã –∫ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—é backend-—Å–∏—Å—Ç–µ–º: –º–æ–¥—É–ª—å–Ω–æ—Å—Ç—å, –∏–∑–æ–ª—è—Ü–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤, –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ, –±–µ–∑–æ–ø–∞—Å–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å.

---

## üöÄ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ü—Ä–æ–µ–∫—Ç —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —á–µ—Ç—ã—Ä—ë—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤:

|–°–µ—Ä–≤–∏—Å|–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ|–¢–∏–ø –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è|
|:--|:--|:--|
|auth-service|–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –≤—ã–¥–∞—á–∞ JWT|HTTP (sync)|
|document-service|CRUD –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤, –ø—É–±–ª–∏–∫–∞—Ü–∏—è —Å–æ–±—ã—Ç–∏–π –æ –∑–∞–≥—Ä—É–∑–∫–µ|HTTP + RabbitMQ (async)|
|ai-service|–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Å –ø–æ–º–æ—â—å—é LLM|RabbitMQ (consumer)|
|frontend|–ù–∞—Ç–∏–≤–Ω—ã–π JS-–∫–ª–∏–µ–Ω—Ç –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π|HTTP|

–ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏:

- auth-service ‚Üî document-service - —á–µ—Ä–µ–∑ JWT (trust model)
- document-service ‚Üí ai-service - —á–µ—Ä–µ–∑ Symfony Messenger + RabbitMQ
- (–≤ –±—É–¥—É—â–µ–º) ai-service ‚Üí document-service - —Å–æ–±—ã—Ç–∏–µ document.processed

---

## ‚öôÔ∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- Symfony 7 / PHP 8.3
- PostgreSQL
- RabbitMQ (3-management) - –±—Ä–æ–∫–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏–π
- Symfony Messenger - —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π
- LexikJWTAuthenticationBundle - JWT-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- DDEV - –µ–¥–∏–Ω–∞—è —Å—Ä–µ–¥–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- NelmioCorsBundle - –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å CORS –≤–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ
- LLM API (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è) - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏ –∞–Ω–∞–ª–∏–∑ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

---

## üß© –ß—Ç–æ —É–∂–µ —Å–¥–µ–ª–∞–Ω–æ

### ‚úÖ –ë–∞–∑–æ–≤—ã–µ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã

- auth-service: —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –ª–æ–≥–∏–Ω, –≤—ã–¥–∞—á–∞ JWT (RS256)
- document-service: –∑–∞–≥—Ä—É–∑–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤, —Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
- ai-service: –±–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞, –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –æ—á–µ—Ä–µ–¥—å RabbitMQ
- frontend: –Ω–∞—Ç–∏–≤–Ω—ã–π JS-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å —Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —Ç–æ–∫–µ–Ω–∞ –≤ localStorage

### ‚úÖ –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

- DDEV-–æ–∫—Ä—É–∂–µ–Ω–∏–µ —Å PostgreSQL –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
- –ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ `.ddev` –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- CORS-–Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- Docker-—É—Ä–æ–≤–Ω–µ–≤–∞—è –∏–∑–æ–ª—è—Ü–∏—è (–∫–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å –≤ —Å–≤–æ—ë–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ)

### ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

- JWT-trust –º–æ–¥–µ–ª—å –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏
- –ö–∞—Å—Ç–æ–º–Ω—ã–π JwtUserProvider –≤ document-—Å–µ—Ä–≤–∏—Å–µ
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Authorization: Bearer

---

## üß† –ß—Ç–æ –±—É–¥–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –¥–∞–ª–µ–µ

| –≠—Ç–∞–ø | –ó–∞–¥–∞—á–∞                                                                 | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è           |
| ---- |------------------------------------------------------------------------| -------------------- |
| 1    | –ü–æ–¥–∫–ª—é—á–∏—Ç—å –æ–±—â–∏–π RabbitMQ —á–µ—Ä–µ–∑ –æ—Ç–¥–µ–ª—å–Ω—ã–π DDEV-–ø—Ä–æ–µ–∫—Ç                  | RabbitMQ / DDEV      |
| 2    | –ó–∞–≤–µ—Ä—à–∏—Ç—å ai-service –∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É —Å–æ–æ–±—â–µ–Ω–∏–π                 | Symfony Messenger    |
| 3    | –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞—Ç–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ document.processed ‚Üí document-service        | RabbitMQ             |
| 4    | –†–∞—Å—à–∏—Ä–∏—Ç—å ai-service - –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ LLM API (–Ω–∞–ø—Ä–∏–º–µ—Ä, OpenAI / Ollama) | HTTP / API           |
| 5    | –î–æ–±–∞–≤–∏—Ç—å gateway-—Å–µ—Ä–≤–∏—Å –¥–ª—è –µ–¥–∏–Ω–æ–π —Ç–æ—á–∫–∏ –≤—Ö–æ–¥–∞                         | Symfony / Traefik    |
| 6    | –î–æ–±–∞–≤–∏—Ç—å monitoring –∏ health-checks                                    | Symfony / Prometheus |
| 7    | –ù–∞—Å—Ç—Ä–æ–∏—Ç—å CI/CD (GitHub Actions)                                       | Docker / DDEV CLI    |

---

## üß∞ –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫

–í—Å–µ —Å–µ—Ä–≤–∏—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç —á–µ—Ä–µ–∑ DDEV.

–ó–∞–ø—É—Å–∫ –ª—é–±–æ–≥–æ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞:

```
cd auth-service && ddev start
cd document-service && ddev start
cd ai-service && ddev start
```

RabbitMQ (–æ—Ç–¥–µ–ª—å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç):

```
cd rabbitmq-service && ddev start
```
–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å ddev –∞–¥–¥–æ–Ω rabbitmq 
```
ddev add-on get ddev/ddev-rabbitmq
ddev restart
```

–ü–∞–Ω–µ–ª—å RabbitMQ ‚Üí [http://rabbitmq-service.ddev.site:15672](http://rabbitmq-service.ddev.site:15672)  
(–ª–æ–≥–∏–Ω: rabbitmq, –ø–∞—Ä–æ–ª—å: rabbitmq)

---
## üß™ –ü—Ä–∏–º–µ—Ä –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ª–æ–≥–∏–Ω–∏—Ç—Å—è —á–µ—Ä–µ–∑ auth-service –∏ –ø–æ–ª—É—á–∞–µ—Ç JWT
2. –ó–∞–≥—Ä—É–∂–∞–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç —á–µ—Ä–µ–∑ document-service
3. document-service —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –∏ –ø—É–±–ª–∏–∫—É–µ—Ç —Å–æ–±—ã—Ç–∏–µ DocumentUploadedMessage –≤ RabbitMQ
4. ai-service —Å–ª—É—à–∞–µ—Ç –æ—á–µ—Ä–µ–¥—å, –ø–æ–ª—É—á–∞–µ—Ç —Å–æ–±—ã—Ç–∏–µ –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç
5. (–í –±—É–¥—É—â–µ–º) ai-service –æ—Ç–ø—Ä–∞–≤–∏—Ç —Å–æ–±—ã—Ç–∏–µ DocumentProcessedMessage –æ–±—Ä–∞—Ç–Ω–æ

---
## üßë‚Äçüíª –¶–µ–ª–∏ –ø—Ä–æ–µ–∫—Ç–∞

- –û—Ç—Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞–≤—ã–∫–∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
- –ù–∞—É—á–∏—Ç—å—Å—è —Ä–∞–±–æ—Ç–∞—Ç—å —Å Symfony Messenger + RabbitMQ
- –û—Å–≤–æ–∏—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω—É—é –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é —á–µ—Ä–µ–∑ JWT trust model
- –ü–æ–Ω—è—Ç—å —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏ –∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è–º–∏
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å LLM (Large Language Model) –≤ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω—É—é —ç–∫–æ—Å–∏—Å—Ç–µ–º—É

---

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```
ai-knowledge-manager/
‚îú‚îÄ‚îÄ auth-service/         # JWT-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
‚îú‚îÄ‚îÄ document-service/     # CRUD –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—è —Å–æ–±—ã—Ç–∏–π
‚îú‚îÄ‚îÄ ai-service/           # –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (LLM + RabbitMQ consumer)
‚îú‚îÄ‚îÄ frontend/             # JS-–∫–ª–∏–µ–Ω—Ç (—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –∑–∞–≥—Ä—É–∑–∫–∞, –ø—Ä–æ—Å–º–æ—Ç—Ä)
‚îî‚îÄ‚îÄ rabbitmq-service/     # –û–±—â–∏–π –±—Ä–æ–∫–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏–π (RabbitMQ)
```

---

## üß© –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - —Å–≤–æ–±–æ–¥–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ, –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–π—Ç–µ –∏ –¥–æ—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ.